<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Braven Lab Dashboard</title>
    <link rel="stylesheet" href="/css/dashboard.css">
</head>
<body>
    <div class="container">
        <header class="header">
            <div class="brand">
                <h1 class="brand-name">BRAVEN</h1>
                <span class="brand-sub">PERFORMANCE LAB</span>
            </div>
            <div class="connection-status" id="connectionStatus">
                <span class="status-dot disconnected"></span>
                <span class="status-text">Disconnected</span>
            </div>
        </header>

        <main class="dashboard-grid">
            <!-- Power -->
            <div class="metric-card primary">
                <div class="metric-label">POWER</div>
                <div class="metric-value" id="power">--</div>
                <div class="metric-unit">W</div>
            </div>

            <!-- Heart Rate -->
            <div class="metric-card accent-red">
                <div class="metric-label">HEART RATE</div>
                <div class="metric-value" id="heartRate">--</div>
                <div class="metric-unit">BPM</div>
            </div>

            <!-- Cadence -->
            <div class="metric-card accent-blue">
                <div class="metric-label">CADENCE</div>
                <div class="metric-value" id="cadence">--</div>
                <div class="metric-unit">RPM</div>
            </div>

            <!-- Speed -->
            <div class="metric-card">
                <div class="metric-label">SPEED</div>
                <div class="metric-value" id="speed">--</div>
                <div class="metric-unit">km/h</div>
            </div>

            <!-- Elapsed Time -->
            <div class="metric-card">
                <div class="metric-label">ELAPSED TIME</div>
                <div class="metric-value time" id="elapsedTime">--:--</div>
                <div class="metric-unit">&nbsp;</div>
            </div>

            <!-- Distance -->
            <div class="metric-card">
                <div class="metric-label">DISTANCE</div>
                <div class="metric-value" id="distance">--</div>
                <div class="metric-unit">km</div>
            </div>

            <!-- Elevation -->
            <div class="metric-card">
                <div class="metric-label">ELEVATION</div>
                <div class="metric-value" id="elevation">--</div>
                <div class="metric-unit">m</div>
            </div>

            <!-- Grade -->
            <div class="metric-card">
                <div class="metric-label">GRADE</div>
                <div class="metric-value" id="grade">--</div>
                <div class="metric-unit">%</div>
            </div>

            <!-- Temperature -->
            <div class="metric-card">
                <div class="metric-label">TEMP</div>
                <div class="metric-value" id="temperature">--</div>
                <div class="metric-unit">Â°C</div>
            </div>
        </main>

        <footer class="footer">
            <span>Braven Lab Dashboard PoC</span>
            <span id="lastUpdate">Last update: --</span>
        </footer>
    </div>

    <script src="/js/websocket-client.js"></script>
    <script src="/js/dashboard-renderer.js"></script>
    <script>
        // Initialize the dashboard
        const client = new BravenWebSocketClient();
        const renderer = new DashboardRenderer();

        client.onData((data) => {
            renderer.update(data);
        });

        client.onStatusChange((connected) => {
            renderer.setConnectionStatus(connected);
        });

        client.connect();
    </script>
</body>
</html>
